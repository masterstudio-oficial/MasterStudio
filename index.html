<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MasterStudio</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        /* Reset básico */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Fuente legible para textos pequeños */
            background-color: #000000; /* Negro */
            color: #ffffff; /* Blanco */
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            background-color: rgba(26, 26, 26, 0.8); /* Gris oscuro con transparencia */
            backdrop-filter: blur(10px); /* Efecto glassmorphism si soportado */
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            font-family: 'VT323', monospace; /* Tipografía pixelada sencilla */
            font-size: 3.5rem; /* Agrandado para que sea más grande que la corona */
            font-weight: bold;
            margin-right: 15px;
            color: #ffffff;
        }

        .icon {
            font-size: 2.5rem;
        }

        /* Navegación */
        nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 30px;
            background-color: rgba(26, 26, 26, 0.6); /* Gris oscuro con transparencia */
            backdrop-filter: blur(10px);
        }

        .nav-button {
            margin: 10px;
            padding: 15px 30px;
            background-color: rgba(26, 26, 26, 0.8); /* Gris oscuro con transparencia */
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            text-decoration: none;
            color: #ffffff;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .home {
            display: none; /* Oculto inicialmente */
        }

        /* Efectos hover con colores temáticos */
        .nav-button:hover {
            transform: translateY(-2px);
        }

        .home:hover { box-shadow: 0 0 20px #ffffff; } /* Blanco para home */
        .mobs:hover { box-shadow: 0 0 20px #FFC107; } /* Amarillo */
        .dificultad:hover { box-shadow: 0 0 20px #FF5722; } /* Naranja */
        .eventos:hover { box-shadow: 0 0 20px #E91E63; } /* Rosado */
        .actualizaciones:hover { box-shadow: 0 0 20px #2196F3; } /* Azul */
        .recompensas:hover { box-shadow: 0 0 20px #4CAF50; } /* Verde */
        .castigos:hover { box-shadow: 0 0 20px #F44336; } /* Rojo */

        /* Main content */
        main {
            padding: 50px;
            max-width: 1200px;
            margin: 0 auto;
        }

        section {
            display: none; /* Ocultas inicialmente */
            margin-bottom: 40px;
        }

        section.active {
            display: block;
        }

        #home h1 {
            font-family: 'VT323', monospace; /* Pixelada para títulos */
            margin-bottom: 20px;
            color: #ffffff;
        }

        #home p {
            margin-bottom: 20px;
            color: #cccccc;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .footer {
            margin-top: 50px;
            text-align: center;
            color: #cccccc;
            font-size: 0.9rem;
        }

        .footer a {
            color: #2196F3; /* Azul para enlaces */
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Tarjetas de publicaciones para dificultad */
        .post {
            display: flex;
            margin-bottom: 30px;
            padding: 20px;
            background-color: rgba(26, 26, 26, 0.8); /* Gris oscuro con transparencia */
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }

        .post img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            margin-right: 20px;
            border-radius: 10px;
        }

        .post-content {
            flex: 1;
        }

        .post-content h3 {
            font-family: 'VT323', monospace; /* Pixelada para títulos de posts */
            margin-bottom: 10px;
            font-size: 1.4rem;
            color: #ffffff;
        }

        .post-content .date {
            font-size: 0.9rem;
            color: #cccccc;
            margin-bottom: 15px;
        }

        .post-content p {
            color: #cccccc;
        }

        /* Placeholder NEW! */
        .new-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #FFC107; /* Amarillo brillante */
            color: #000000;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Placeholder para otras secciones */
        .placeholder {
            text-align: center;
            color: #cccccc;
            padding: 50px;
        }

        .placeholder h1 {
            font-family: 'VT323', monospace; /* Pixelada para títulos de secciones */
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">MasterStudio</div>
        <div class="icon">👑</div>
    </header>

    <nav>
        <button class="nav-button home" data-section="home">🏠 Inicio</button>
        <button class="nav-button mobs" data-section="mobs">Mobs nuevos</button>
        <button class="nav-button dificultad" data-section="dificultad">Cambio de dificultad</button>
        <button class="nav-button eventos" data-section="eventos">Eventos</button>
        <button class="nav-button actualizaciones" data-section="actualizaciones">Actualizaciones</button>
        <button class="nav-button recompensas" data-section="recompensas">Recompensas</button>
        <button class="nav-button castigos" data-section="castigos">Castigos</button>
    </nav>

    <main>
        <section id="home" class="active">
            <h1>Bienvenido a MasterStudio</h1>
            <p>En MasterStudio, nos apasiona crear y recrear experiencias inolvidables en Minecraft 🌍, fusionando creatividad, dinamismo y diversión para todos los jugadores 🎮.</p>
            <p><strong>Nuestra Misión:</strong></p>
            <p>Elevar el entretenimiento al máximo, recreando mapas icónicos como Dedsafio3, Dedsafio2 y Squid Craft en Minecraft a un nivel superior 🚀. Diseñamos mundos y sistemas que sorprenden, inspiran y mantienen a los jugadores inmersos en cada aventura 🧭.</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
                <p>Únete a nuestro <a href="https://discord.gg/Xj5SARVFQ5" target="_blank">Discord</a></p>
            </div>
        </section>

        <section id="mobs" class="placeholder">
            <h1>Mobs nuevos</h1>
            <p>Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="dificultad">
            <h1>Cambio de dificultad</h1>
            <div id="post-list-dificultad">
                </div>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="eventos" class="placeholder">
            <h1>Eventos</h1>
            <p>Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="actualizaciones" class="placeholder">
            <h1>Actualizaciones</h1>
            <p>Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="recompensas" class="placeholder">
            <h1>Recompensas</h1>
            <p>Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="castigos" class="placeholder">
            <h1>Castigos</h1>
            <p>Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>
    </main>

    <script>
        // ----------------------------------------------------------------------
        // 1. FUNCIÓN PARA CARGAR DATOS Y GENERAR POSTS
        // ----------------------------------------------------------------------
        async function loadPosts() {
            // El contenedor donde se insertarán los posts
            let postListContainer = document.getElementById('post-list-dificultad');
            
            // Si el contenedor no existe (solo por seguridad, ya lo añadimos arriba), lo crea.
            if (!postListContainer) {
                postListContainer = document.createElement('div');
                postListContainer.id = 'post-list-dificultad';
                document.getElementById('dificultad').insertBefore(postListContainer, document.getElementById('dificultad').querySelector('.footer'));
            } else {
                // Limpiamos el contenido existente antes de recargar
                postListContainer.innerHTML = '';
            }
            
            try {
                // Carga el archivo posts.json (asumiendo que está en la misma carpeta que este HTML)
                const response = await fetch('./posts.json');
                if (!response.ok) {
                    throw new Error(`Error al cargar posts.json: ${response.statusText}`);
                }
                const posts = await response.json();

                if (posts && posts.length > 0) {
                    posts.forEach(post => {
                        const postElement = document.createElement('div');
                        postElement.classList.add('post');

                        // Crear el badge NEW! si esNuevo es true
                        let newBadge = '';
                        if (post.esNuevo) {
                            newBadge = `<div class="new-badge">NEW!</div>`;
                        }

                        // Usamos post.imagenUrl que viene del bot y post.descripcion, etc.
                        postElement.innerHTML = `
                            ${newBadge}
                            <img src="${post.imagenUrl}" alt="${post.titulo}">
                            <div class="post-content">
                                <h3>${post.titulo}</h3>
                                <div class="date">Fecha: ${post.fecha}</div>
                                <p>${post.descripcion}</p>
                            </div>
                        `;
                        postListContainer.appendChild(postElement);
                    });
                } else {
                    postListContainer.innerHTML = '<p style="text-align: center; color: #FF5722;">Aún no hay publicaciones de dificultad.</p>';
                }

            } catch (error) {
                console.error("Error al renderizar los posts:", error);
                postListContainer.innerHTML = `<p style="text-align: center; color: red;">Error al cargar los datos: ${error.message}. Asegúrate de que posts.json esté en el repositorio.</p>`;
            }
        }


        // ----------------------------------------------------------------------
        // 2. LÓGICA DE NAVEGACIÓN
        // ----------------------------------------------------------------------
        document.addEventListener('DOMContentLoaded', () => {
            // 1. Cargar los posts de dificultad apenas carga la página
            loadPosts(); 

            // 2. Lógica de los botones de navegación
            document.querySelectorAll('.nav-button').forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-section');

                    // Ocultar todas las secciones
                    document.querySelectorAll('section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Mostrar la sección seleccionada
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.classList.add('active');
                    }
                    
                    // Mostrar/ocultar botón home
                    const homeButton = document.querySelector('.home');
                    if (targetId === 'home') {
                        homeButton.style.display = 'none';
                    } else {
                        homeButton.style.display = 'inline-block';
                    }
                    
                    // Si la sección seleccionada es "dificultad", volver a cargar los posts
                    if (targetId === 'dificultad') {
                        loadPosts(); 
                    }
                });
            });

            // Asegurar que la sección 'home' esté activa al inicio y el botón 'home' oculto
            document.getElementById('home').classList.add('active');
            document.querySelector('.home').style.display = 'none';
        });
    </script>
</body>
</html>
