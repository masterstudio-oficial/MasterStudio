<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MasterStudio</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        /* Reset básico */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Fuente legible para textos pequeños */
            background-color: #000000; /* Negro */
            color: #ffffff; /* Blanco */
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            background-color: rgba(26, 26, 26, 0.8); /* Gris oscuro con transparencia */
            backdrop-filter: blur(10px); /* Efecto glassmorphism si soportado */
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            font-family: 'VT323', monospace; /* Tipografía pixelada sencilla */
            font-size: 3.5rem; /* Agrandado para que sea más grande que la corona */
            font-weight: bold;
            margin-right: 15px;
            color: #ffffff;
        }

        .icon {
            font-size: 2.5rem;
        }

        /* Navegación */
        nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 30px;
            background-color: rgba(26, 26, 26, 0.6); /* Gris oscuro con transparencia */
            backdrop-filter: blur(10px);
        }

        .nav-button {
            margin: 10px;
            padding: 15px 30px;
            background-color: rgba(26, 26, 26, 0.8); /* Gris oscuro con transparencia */
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            text-decoration: none;
            color: #ffffff;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        /* Estilo base para el botón activo */
        .nav-button.active-nav {
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5); /* Sombra brillante base */
            background-color: rgba(40, 40, 40, 0.9); 
            border: 1px solid #ffffff; 
            transform: translateY(-2px);
        }

        /* 🚨 NUEVOS ESTILOS POR CATEGORÍA ACTIVA 🚨 */

        /* Inicio - Blanco */
        .home.active-nav {
            border-color: #ffffff;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
        }

        /* Mobs nuevos - Amarillo */
        .mobs.active-nav {
            border-color: #FFD700; /* Amarillo */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
        }

        /* Cambio de dificultad - Naranja */
        .dificultad.active-nav {
            border-color: #FFA500; /* Naranja */
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.8);
        }

        /* Eventos - Rosa */
        .eventos.active-nav {
            border-color: #FF69B4; /* Rosa */
            box-shadow: 0 0 15px rgba(255, 105, 180, 0.8);
        }

        /* Actualizaciones - Azul */
        .actualizaciones.active-nav {
            border-color: #2196F3; /* Azul */
            box-shadow: 0 0 15px rgba(33, 150, 243, 0.8);
        }

        /* Recompensas - Verde */
        .recompensas.active-nav {
            border-color: #4CAF50; /* Verde */
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.8);
        }

        /* Castigos - Rojo */
        .castigos.active-nav {
            border-color: #F44336; /* Rojo */
            box-shadow: 0 0 15px rgba(244, 67, 54, 0.8);
        }
        
        /* Fin de estilos de categoría activa */
        
        .nav-button:hover {
            transform: translateY(-2px);
        }
        
        .nav-button:not(.active-nav):hover { box-shadow: 0 0 20px rgba(255, 255, 255, 0.3); } 

        /* Main content */
        main {
            padding: 50px;
            max-width: 1200px;
            margin: 0 auto;
        }

        section {
            display: none; /* Ocultas inicialmente */
            margin-bottom: 40px;
        }

        section.active {
            display: block;
        }

        section h1 {
            font-family: 'VT323', monospace;
            margin-bottom: 20px;
            color: #ffffff;
            text-align: center;
        }
        
        #home p {
            margin-bottom: 20px;
            color: #cccccc;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
        }


        .footer {
            margin-top: 50px;
            text-align: center;
            color: #cccccc;
            font-size: 0.9rem;
        }

        .footer a {
            color: #2196F3; /* Azul para enlaces */
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Tarjetas de publicaciones */
        .post {
            display: flex;
            margin-bottom: 30px;
            padding: 20px;
            background-color: rgba(26, 26, 26, 0.8); /* Gris oscuro con transparencia */
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            align-items: flex-start; 
        }

        .post img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            margin-right: 20px;
            border-radius: 10px;
            margin-bottom: 10px; 
        }

        .post-content {
            flex: 1;
        }

        .post-content h3 {
            font-family: 'VT323', monospace; 
            margin-bottom: 5px; 
            font-size: 1.6rem;
            color: #ffffff;
            display: block; 
        }

        .post-content .date {
            font-size: 0.9rem;
            color: #cccccc;
            margin-bottom: 15px; 
            display: block;
        }
        
        .post-content p {
            color: #cccccc;
            display: block; 
        }

        /* Placeholder NEW! */
        .new-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #FFC107; /* Amarillo brillante */
            color: #000000;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Placeholder para otras secciones */
        .placeholder {
            text-align: center;
            color: #cccccc;
            padding: 50px;
        }

        .placeholder h1 {
            font-family: 'VT323', monospace; 
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">MasterStudio</div>
        <div class="icon">👑</div>
    </header>

    <nav>
        <button class="nav-button home active-nav" data-section="home">🏠 Inicio</button>
        <button class="nav-button mobs" data-section="mobs">Mobs nuevos</button>
        <button class="nav-button dificultad" data-section="dificultad">Cambio de dificultad</button>
        <button class="nav-button eventos" data-section="eventos">Eventos</button>
        <button class="nav-button actualizaciones" data-section="actualizaciones">Actualizaciones</button>
        <button class="nav-button recompensas" data-section="recompensas">Recompensas</button>
        <button class="nav-button castigos" data-section="castigos">Castigos</button>
    </nav>

    <main>
        <section id="home" class="active">
            <h1>Bienvenido a MasterStudio</h1>
            <p>En MasterStudio, nos apasiona crear y recrear experiencias inolvidables en Minecraft 🌍, fusionando creatividad, dinamismo y diversión para todos los jugadores 🎮.</p>
            <p><strong>Nuestra Misión:</strong></p>
            <p>Elevar el entretenimiento al máximo, recreando mapas icónicos como Dedsafio3, Dedsafio2 y Squid Craft en Minecraft a un nivel superior 🚀. Diseñamos mundos y sistemas que sorprenden, inspiran y mantienen a los jugadores inmersos en cada aventura 🧭.</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
                <p>Únete a nuestro <a href="https://discord.gg/Xj5SARVFQ5" target="_blank">Discord</a></p>
            </div>
        </section>

        <section id="mobs" data-category="mobs">
            <h1>Mobs nuevos</h1>
            <div id="posts-mobs" class="posts-container"></div>
            <p class="placeholder-text">Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="dificultad" data-category="dificultad">
            <h1>Cambio de dificultad</h1>
            <div id="posts-dificultad" class="posts-container"></div>
            <p class="placeholder-text">Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="eventos" data-category="eventos">
            <h1>Eventos</h1>
            <div id="posts-eventos" class="posts-container"></div>
            <p class="placeholder-text">Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="actualizaciones" data-category="actualizaciones">
            <h1>Actualizaciones</h1>
            <div id="posts-actualizaciones" class="posts-container"></div>
            <p class="placeholder-text">Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="recompensas" data-category="recompensas">
            <h1>Recompensas</h1>
            <div id="posts-recompensas" class="posts-container"></div>
            <p class="placeholder-text">Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="castigos" data-category="castigos">
            <h1>Castigos</h1>
            <div id="posts-castigos" class="posts-container"></div>
            <p class="placeholder-text">Contenido próximamente...</p>
            <div class="footer">
                <p>© 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>
    </main>

    <script>
        // JavaScript para mostrar/ocultar secciones y botón home
        document.querySelectorAll('.nav-button').forEach(button => {
            button.addEventListener('click', function() {
                const targetId = this.getAttribute('data-section');
                
                // 1. Remover la clase 'active-nav' de todos los botones
                document.querySelectorAll('.nav-button').forEach(btn => {
                    btn.classList.remove('active-nav');
                });
                
                // 2. Añadir la clase 'active-nav' al botón que fue clickeado
                this.classList.add('active-nav');

                // 3. Ocultar todas las secciones
                document.querySelectorAll('section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // 4. Mostrar la sección seleccionada
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.classList.add('active');
                }
            });
        });
        
        // Función para cargar los posts dinámicamente
        async function loadPosts() {
            const JSON_URL = 'https://raw.githubusercontent.com/masterstudio-oficial/MasterStudio/main/posts.json';

            try {
                const response = await fetch(JSON_URL);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                // Si el JSON está vacío (solo []), parseará una lista vacía
                const posts = await response.json(); 

                // Limpiar contenedores
                document.querySelectorAll('.posts-container').forEach(container => {
                    container.innerHTML = '';
                });

                posts.forEach(post => {
                    const category = post.categoria || 'dificultad'; 
                    const container = document.getElementById(`posts-${category}`);

                    if (container) {
                        const postElement = document.createElement('div');
                        postElement.className = 'post';

                        let badge = post.esNuevo ? '<div class="new-badge">NEW!</div>' : '';
                        
                        postElement.innerHTML = `
                            ${badge}
                            <img src="${post.imagenUrl || 'https://via.placeholder.com/150'}" alt="Imagen del post">
                            <div class="post-content">
                                <h3>${post.titulo}</h3>
                                <span class="date">Fecha: ${post.fecha}</span>
                                <p>${post.descripcion}</p>
                            </div>
                        `;
                        // Insertamos el post al inicio para que el más nuevo esté arriba
                        container.prepend(postElement); 
                        
                        // Ocultamos el texto 'Contenido próximamente...' si ya hay posts en esa categoría
                        const placeholderText = container.parentElement.querySelector('.placeholder-text');
                        if (placeholderText) {
                            placeholderText.style.display = 'none';
                        }
                    }
                });
            } catch (e) {
                console.error('Error al cargar posts:', e);
                
                document.querySelectorAll('section[data-category]').forEach(section => {
                     const h1 = section.querySelector('h1');
                     if (h1) {
                         const container = section.querySelector('.posts-container');
                         if (container && container.innerHTML === '') {
                             h1.insertAdjacentHTML('afterend', `
                                <p style="color: red; margin-top: 20px;">Error al cargar los datos: ${e.message}. Asegúrate de que posts.json en GitHub esté configurado a **[ ]**.</p>
                             `);
                         }
                     }
                 });
            }
        }

        // Cargar los posts al inicio
        loadPosts();
    </script>
</body>
</html>
