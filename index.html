<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MasterStudio - Edici√≥n Halloween üëª</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Creepster&display=swap" rel="stylesheet">
    <style>
        /* INICIO: Animaci√≥n de Fondo de Niebla (Fog/Mist) */
        @keyframes fog-movement {
            0% { background-position: 0 0; }
            100% { background-position: -200vw 0; }
        }
        
        .halloween-fog-effect::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 400vw;
            height: 100vh;
            /* Patr√≥n de imagen sutil de niebla/nubes con transparencia */
            background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAABCAYAAADeC2x5AAAABmJLR0QA/wD/AP/gvaeTAAAAB3RJTUUH5gIHDws/p9tq+wAAAAlwFlzAAAuIwAA LiMD+gkF9gAAAAd0SU1FB9gIHFYvQxYh1+gAAAAdaVRYdFNvZnR3YXJlAHJlYWRlci.hB9Obd') repeat-x;
            opacity: 0.15;
            z-index: -1;
            animation: fog-movement 120s linear infinite;
            pointer-events: none;
        }
        /* FIN: Animaci√≥n de Fondo de Niebla */

        /* Reset b√°sico */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #0d0115; /* Negro Morado Oscuro */
            color: #ffffff;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Aplicamos la clase de niebla al body para el efecto */
        body.halloween-fog-effect {
            position: relative;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            justify-content: flex-end; /* Empuja el bot√≥n a la derecha */
            padding: 30px 50px; /* Aumentado padding para el bot√≥n */
            background-color: rgba(30, 0, 40, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 255, 0, 0.5);
            position: relative; /* Contenedor para el centrado absoluto del logo */
        }
        
        /* NUEVO: Contenedor para agrupar y centrar el logo y el icono */
        .header-logo-group {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2; /* Para asegurar que el logo est√° sobre el fondo */
        }
        
        /* NUEVO: Clase para el bot√≥n de login en el header */
        .login-button {
            z-index: 3; /* Asegura que el bot√≥n est√© sobre el logo si hay superposici√≥n */
        }

        .logo {
            font-family: 'VT323', monospace;
            font-size: 3.5rem;
            font-weight: bold;
            margin-right: 15px;
            color: #00ff00;
            text-shadow: 0 0 10px #00ff00, 0 0 20px rgba(0, 255, 0, 0.5);
        }
        
        /* Icono (Fantasma) */
        .icon {
            font-size: 2.5rem;
            animation: float-icon 2s ease-in-out infinite alternate;
        }
        
        @keyframes float-icon {
            0% { transform: translateY(0); }
            100% { transform: translateY(-5px); }
        }
        
        /* INICIO: CONTENEDOR DE NAVEGACI√ìN PRINCIPAL Y BOT√ìN LAUNCHER */
        .main-navigation-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 30px 50px;
            background-color: rgba(30, 0, 40, 0.6);
            backdrop-filter: blur(10px);
            gap: 20px;
        }

        /* Navegaci√≥n (Solo para los botones de categor√≠as) */
        nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
            flex-grow: 1;
        }
        /* FIN: CONTENEDOR DE NAVEGACI√ìN */

        .nav-button {
            margin: 10px;
            padding: 15px 30px;
            background-color: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            text-decoration: none;
            color: #ffffff;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.7);
            position: relative;
        }
        
        /* Sombra de murci√©lago (CORREGIDA a emoji directo ü¶á) */
        .nav-button::before {
            content: 'ü¶á'; /* Cambiado a emoji directo */
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .nav-button:hover::before {
            opacity: 1;
            top: -25px;
        }
        
        .nav-button.active-nav {
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
            background-color: rgba(40, 40, 40, 0.9);
            border: 1px solid #ffffff;
            transform: translateY(-2px);
        }

        /* ESTILOS POR CATEGOR√çA ACTIVA */
        .home.active-nav { border-color: #ffffff; box-shadow: 0 0 15px rgba(255, 255, 255, 0.8); }
        .mobs.active-nav { border-color: #FFD700; box-shadow: 0 0 15px rgba(255, 215, 0, 0.8); }
        .dificultad.active-nav { border-color: #FFA500; box-shadow: 0 0 15px rgba(255, 165, 0, 0.8); }
        .eventos.active-nav { border-color: #FF69B4; box-shadow: 0 0 15px rgba(255, 105, 180, 0.8); }
        .actualizaciones.active-nav { border-color: #2196F3; box-shadow: 0 0 15px rgba(33, 150, 243, 0.8); }
        .recompensas.active-nav { border-color: #4CAF50; box-shadow: 0 0 15px rgba(76, 175, 80, 0.8); }
        .castigos.active-nav { border-color: #F44336; box-shadow: 0 0 15px rgba(244, 67, 54, 0.8); }
        .launcher.active-nav { border-color: #00BCD4; box-shadow: 0 0 15px rgba(0, 188, 212, 0.8); }
        
        /* NUEVO ESTILO ESPECIAL PARA BOTONES IMPORTANTES (SORTEO Y QUIZ) */
        .special-nav-button {
            background: linear-gradient(135deg, #8A2BE2 0%, #4B0082 100%); /* Degradado morado */
            border: 3px solid #DA70D6; /* Borde rosado-morado brillante */
            color: #ffffff;
            font-family: 'Creepster', cursive; /* Fuente espeluznante */
            font-size: 1.3rem; /* Tama√±o m√°s grande */
            padding: 18px 35px; /* Relleno m√°s grande */
            box-shadow: 0 0 25px rgba(218, 112, 214, 0.9); /* Sombra brillante y expansiva */
            transition: all 0.4s ease-in-out;
            position: relative;
            overflow: hidden;
            z-index: 1; 
            margin: 10px; 
        }
        
        /* Estilo espec√≠fico para Daily Quiz cuando est√° activo */
        .daily-quiz.active-nav { 
            border-color: #00ff00; 
            box-shadow: 0 0 35px rgba(0, 255, 0, 1);
            background: linear-gradient(135deg, #4CAF50 0%, #1E8449 100%); 
        }

        /* Efecto de brillo al pasar el rat√≥n */
        .special-nav-button::before {
            content: '‚ú®'; /* Efecto de brillo adicional */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 2em;
            opacity: 0;
            transition: all 0.5s ease-out;
            z-index: -1;
        }

        .special-nav-button:hover {
            transform: scale(1.08); /* Ligeramente m√°s grande al pasar el rat√≥n */
            background: linear-gradient(135deg, #9932CC 0%, #6A0DAD 100%); /* Cambio de degradado al pasar el rat√≥n */
            box-shadow: 0 0 40px rgba(218, 112, 214, 1.2); /* Sombra m√°s intensa */
        }
        
        .special-nav-button:hover::before {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }
        
        /* Estilo para cuando el bot√≥n especial est√° activo */
        .sorteo.active-nav.special-nav-button { 
            border-color: #DA70D6; 
            box-shadow: 0 0 35px rgba(218, 112, 214, 1);
            transform: scale(1.05); 
            background: linear-gradient(135deg, #9932CC 0%, #6A0DAD 100%); 
        }

        .nav-button:hover {
            transform: translateY(-2px);
        }
        
        .nav-button:not(.active-nav):hover { box-shadow: 0 0 20px rgba(255, 255, 255, 0.3); }

        /* Main content */
        main {
            padding: 50px;
            max-width: 1200px;
            margin: 0 auto;
        }

        section {
            display: none;
            margin-bottom: 40px;
        }

        section.active {
            display: block;
        }

        section h1 {
            font-family: 'Creepster', cursive;
            font-size: 3rem;
            color: #ff6600;
            text-align: center;
            text-shadow: 3px 3px 0px #000000;
        }
        
        /* Estilo especial para los subt√≠tulos del launcher (t√≠tulos h2) */
        .guide-step h2 {
            font-family: 'Creepster', cursive;
            font-size: 2.5rem;
            color: #00ff00;
            margin-bottom: 15px;
            text-shadow: 2px 2px 0px #1e0028;
        }
        
        /* INICIO: Estilos para la gu√≠a del launcher */
        .guide-step {
            /* Fondo del contenedor de cada paso */
            background-color: rgba(30, 0, 40, 0.6);
            border: 1px solid rgba(0, 255, 0, 0.3);
            border-radius: 10px; /* Borde redondeado */
            padding: 25px; /* Relleno interior */
            margin-bottom: 30px; /* Separaci√≥n entre pasos */
            text-align: center; /* Centramos todo el contenido del paso */
        }

        .guide-step p {
            max-width: 90%; /* Limitar ancho del p√°rrafo */
            margin: 15px auto; /* Centrar p√°rrafos */
            font-size: 1.1rem;
            color: #cccccc;
            text-align: left; /* Alineaci√≥n del texto del paso */
        }

        .guide-image-container {
            margin: 20px auto; /* Centrar contenedor de imagen */
            max-width: fit-content;
        }

        .guide-image-container img {
            border: 3px solid #ff6600; /* Borde m√°s grueso para las im√°genes */
            border-radius: 8px; /* Borde redondeado */
            width: 100%; /* Ajustar al contenedor */
            max-width: 700px; /* M√°ximo ancho de la imagen */
            height: auto;
            display: block; /* Asegurar que la imagen se centre correctamente */
            margin: 0 auto;
        }
        /* FIN: Estilos para la gu√≠a del launcher */

        /* Estilos de la secci√≥n Inicio (Negritas removidas) */
        #home p {
            margin-bottom: 20px;
            color: #cccccc;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
        }

        /* Footer general (usado en todas las secciones) */
        .footer {
            margin-top: 50px;
            text-align: center;
            color: #888888;
            font-size: 0.9rem; /* Tama√±o m√°s peque√±o */
        }

        .footer a {
            color: #ff6600;
            text-decoration: none;
        }
        
        /* Footer espec√≠fico para el √∫ltimo paso del Launcher (ajustado para que se vea igual que el general) */
        .guide-step .footer {
            margin-top: 30px; 
            text-align: center;
            color: #888888;
            font-size: 0.9rem;
        }


        /* Tarjetas de publicaciones */
        .post {
            display: flex;
            margin-bottom: 30px;
            padding: 20px;
            background-color: rgba(30, 0, 40, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(150, 0, 255, 0.3);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.7);
            position: relative;
            overflow: hidden;
            align-items: flex-start;
        }
        
        .post:hover {
            border: 1px solid rgba(0, 255, 0, 0.5);
            transform: translateY(-2px);
        }

        .post img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            margin-right: 20px;
            border-radius: 10px;
            margin-bottom: 10px;
            border: 3px solid #ff6600;
        }

        .post-content h3 {
            font-family: 'Creepster', cursive;
            font-size: 2rem;
            color: #ff6600;
            text-shadow: 1px 1px 0px #000;
        }

        .post-content .date {
            color: #00ff00;
        }
        
        /* Placeholder NEW! */
        .new-badge {
            background-color: #ff6600;
            color: #1e0028;
            animation: pulse-badge 1s infinite alternate;
        }
        
        @keyframes pulse-badge {
            0% { box-shadow: 0 0 10px #ff6600; }
            100% { box-shadow: 0 0 20px #ff6600; }
        }

        /* ESTILO DEL BOT√ìN DE DESCARGA */
        .download-button {
            display: inline-block; /* Para que se apliquen estilos de tama√±o */
            background: linear-gradient(135deg, #ff6600 0%, #a03600 100%);
            color: #0d0115;
            border: 2px solid #ff6600;
            border-radius: 10px;
            padding: 15px 30px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 102, 0, 0.8);
        }
        
        .download-button:hover {
            background: linear-gradient(135deg, #FF8C00 0%, #CC5500 100%);
            box-shadow: 0 0 30px rgba(255, 102, 0, 1);
            transform: scale(1.05);
        }
        
        /* ESTILO DEL BOT√ìN DE DISCORD */
        .discord-button {
            display: inline-block;
            background-color: #00ff00;
            color: #0d0115;
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 15px 30px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.8);
        }

        .discord-button:hover {
            background-color: #00cc00;
            box-shadow: 0 0 25px rgba(0, 255, 0, 1);
            transform: scale(1.05);
        }

        /* Contenedor para centrar el bot√≥n */
        .button-container {
            text-align: center;
            margin-top: 20px;
        }
        /* FIN: Estilos de botones */
        
        .placeholder-text {
            font-family: 'Creepster', cursive;
            font-size: 2rem;
            color: #ff6600;
            text-align: center;
            padding: 50px;
        }

        /* INICIO: Estilos de la NUEVA Secci√≥n SORTEO y QUIZ */
        .sorteo-container {
            background-color: rgba(50, 0, 50, 0.8);
            border: 3px solid #9400D3; /* Borde Morado Oscuro */
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 0 30px rgba(148, 0, 211, 0.5);
            position: relative;
            overflow: hidden;
            max-width: 800px;
            margin: 40px auto;
        }
        
        /* Estilos de la secci√≥n Quiz */
        #daily-quiz .sorteo-container {
             background-color: rgba(0, 50, 0, 0.8); /* Fondo m√°s verde para diferenciar */
             border: 3px solid #00ff00;
             box-shadow: 0 0 30px rgba(0, 255, 0, 0.5);
        }

        /* Decoraci√≥n de Telara√±a (Esquinas) */
        .sorteo-container::before, .sorteo-container::after {
            content: 'üï∏Ô∏è';
            position: absolute;
            font-size: 3rem;
            opacity: 0.8;
            color: #9400D3;
        }

        .sorteo-container::before {
            top: 10px;
            left: 10px;
        }

        .sorteo-container::after {
            bottom: 10px;
            right: 10px;
            transform: scaleX(-1);
        }
        
        .countdown-title {
            font-family: 'Creepster', cursive;
            font-size: 3.5rem;
            color: #00ff00; /* Verde Ne√≥n */
            text-shadow: 4px 4px 0px #1e0028, 0 0 15px rgba(0, 255, 0, 0.7);
            margin-bottom: 20px;
            animation: pulse-glow 1.5s infinite alternate;
        }

        @keyframes pulse-glow {
            0% { text-shadow: 4px 4px 0px #1e0028, 0 0 10px rgba(0, 255, 0, 0.7); }
            100% { text-shadow: 4px 4px 0px #1e0028, 0 0 25px rgba(0, 255, 0, 1); }
        }

        .countdown-timer {
            font-family: 'VT323', monospace;
            font-size: 4rem;
            color: #ff6600; /* Naranja Brillante */
            text-shadow: 2px 2px 0px #000, 0 0 10px rgba(255, 102, 0, 0.8);
            margin-bottom: 30px;
        }

        /* Estilo para el ganador revelado */
        .winner-announcement {
            font-family: 'Creepster', cursive;
            font-size: 4rem;
            color: #FFD700; /* Oro */
            text-shadow: 5px 5px 0px #8B0000, 0 0 30px rgba(255, 215, 0, 1);
            margin-top: 30px;
            animation: winner-pulse 0.5s infinite alternate;
        }

        @keyframes winner-pulse {
            0% { transform: scale(1.0); }
            100% { transform: scale(1.05); }
        }

        .winner-username {
            font-family: 'VT323', monospace;
            font-size: 5rem;
            color: #00ff00;
            margin-top: 10px;
        }
        
        /* Estilos para el c√≥digo del ticket */
        .winner-username.ticket-code {
            font-size: 4rem;
            color: #FFD700;
            text-shadow: 3px 3px 0px #8B0000, 0 0 20px rgba(255, 215, 0, 1);
        }
        
        /* Estilos para las opciones de respuesta del Quiz */
        #daily-quiz input[type="radio"] {
            /* Ocultar el radio button nativo */
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }

        #daily-quiz label {
            display: block;
            margin: 15px 0;
            padding: 15px 25px;
            background-color: rgba(10, 50, 10, 0.7); /* Fondo verde oscuro */
            border: 2px solid rgba(0, 255, 0, 0.3);
            border-radius: 10px;
            font-size: 1.1rem;
            color: #cccccc;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            position: relative;
        }

        /* Estilo visual para el c√≠rculo del radio (simulaci√≥n) */
        #daily-quiz label::before {
            content: '';
            display: inline-block;
            width: 15px;
            height: 15px;
            margin-right: 15px;
            border-radius: 50%;
            border: 2px solid #ff6600; /* Borde naranja */
            background-color: transparent;
            vertical-align: middle;
            transition: background-color 0.2s, border-color 0.2s;
        }
        
        /* ESTADO: Checked */
        #daily-quiz input[type="radio"]:checked + label::before {
            background-color: #00ff00; /* Color cuando est√° seleccionado */
            border-color: #00ff00;
            box-shadow: 0 0 8px #00ff00;
        }
        
        #daily-quiz label:hover {
            background-color: rgba(10, 70, 10, 0.8);
            border-color: #DA70D6;
        }
        
        #daily-quiz input[type="radio"]:checked + label {
            border-color: #00ff00;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
            background-color: rgba(0, 50, 0, 0.5);
            color: #ffffff;
        }

        /* FIN: Estilos de la NUEVA Secci√≥n SORTEO y QUIZ */
        
        /* INICIO: Estilos de MODO MANTENIMIENTO */
        #maintenance-mode {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #0d0115; /* Fondo negro oscuro */
            z-index: 1000; /* Asegura que est√© por encima de todo */
            display: none; /* Oculto por defecto */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-family: 'Creepster', cursive;
        }

        #maintenance-mode h1 {
            color: #F44336; /* Rojo de Alerta */
            font-size: 6rem;
            text-shadow: 5px 5px 0px #000, 0 0 20px #F44336;
            margin-bottom: 20px;
        }

        #maintenance-mode p {
            font-size: 2rem;
            color: #ff6600;
            margin-top: 15px;
            font-family: 'VT323', monospace;
        }

        #maintenance-mode p.minor {
            font-size: 1.5rem;
            color: #cccccc;
            margin-top: 30px;
        }
        /* FIN: Estilos de MODO MANTENIMIENTO */
    </style>
    <script src="https://accounts.google.com/gsi/client" async defer></script> 
</head>
<body class="halloween-fog-effect">
    
    <section id="maintenance-mode">
        <h1>‚ö†Ô∏è MANTENIMIENTO ‚ö†Ô∏è</h1>
        <p>El sitio de MasterStudio est√° siendo actualizado para mejorar la experiencia.</p>
        <p class="minor">Volveremos pronto, espera pacientemente</p>
    </section>
    
    <header>
        <div class="header-logo-group">
            <div class="logo">MasterStudio</div>
            <div class="icon">üëª</div>
        </div>
        
        <div id="header-auth-area" class="login-button">
            
            <div id="header-login-container">
                <div id="g_id_onload"
                     data-client_id="876697702769-gujmulrqcmueg1csvv9tgbb2l1ichv2p.apps.googleusercontent.com"
                     data-callback="handleCredentialResponse"
                     data-auto_prompt="false">
                </div>
                <div class="g_id_signin"
                     data-type="standard"
                     data-size="medium" 
                     data-theme="outline"
                     data-text="sign_in_with"
                     data-shape="rectangular"
                     data-locale="es"
                     data-logo_alignment="left">
                </div>
            </div>
            
            <div id="header-user-display" style="display:none; text-align: right;">
                <p style="color: #00ff00; margin-bottom: 5px; font-size: 0.8rem;">Bienvenido,</p>
                <span id="header-username-el" class="logo" style="font-size: 1.2rem; margin-right: 0; text-shadow: 0 0 8px #00ff00;"></span>
                <button onclick="logout()" class="nav-button" style="margin-top: 5px; padding: 5px 10px; font-size: 0.8rem; background-color: #F44336; border-color: #F44336;">Cerrar Sesi√≥n</button>
            </div>
            
        </div>
        </header>

    <div class="main-navigation-container">
        
        <button class="nav-button launcher" data-section="launcher" style="margin: 10px 30px 10px 0;">üöÄ Launcher</button>

        <nav>
            <button class="nav-button home active-nav" data-section="home">üè† Inicio</button>
            <button class="nav-button mobs" data-section="mobs">Mobs nuevos</button>
            <button class="nav-button dificultad" data-section="dificultad">Cambio de dificultad</button>
            <button class="nav-button eventos" data-section="eventos">Eventos üö®</button>
            <button class="nav-button actualizaciones" data-section="actualizaciones">Actualizaciones</button>
            <button class="nav-button recompensas" data-section="recompensas">Recompensas</button>
            <button class="nav-button castigos" data-section="castigos">Castigos</button>
            <button class="nav-button daily-quiz special-nav-button" data-section="daily-quiz">üí° Pregunta Diaria</button>
            <button class="nav-button sorteo special-nav-button" data-section="sorteo">üï∏Ô∏è Sorteo</button>
        </nav>
    </div>
    <main>
        <section id="home" class="active">
            <h1>¬°Truco o Trato en MasterStudio!</h1>
            <p>En **MasterStudio**, nos apasiona crear y recrear experiencias inolvidables en Minecraft üéÆ‚öîÔ∏è fusionando creatividad, dinamismo y diversi√≥n para todos los jugadores ‚ú®.</p>
            <p>Nuestra Misi√≥n:</p>
            <p>Elevar el entretenimiento al m√°ximo, recreando mapas ic√≥nicos como Dedsafio3, Dedsafio2 y Squid Craft en Minecraft a un nivel superior üî•. ¬°Prep√°rate para la temporada m√°s aterradora! üíÄüïØÔ∏è</p>
            <div class="footer">
                <p>&copy; 2025 MasterStudio. Todos los derechos reservados.</p>
                <p>√önete a nuestro <a href="https://discord.gg/Xj5SARVFQ5" target="_blank">Discord</a></p>
            </div>
        </section>

        <section id="launcher">
            
            <div class="launcher-title-container">
                <h1 style="margin: 0;">Instalaci√≥n del MasterClient Launcher</h1>
            </div>
            
            <div class="guide-step">
                <h2>PASO 1: Descarga del Instalador</h2>
                <p>Deber√°s descargar la √∫ltima versi√≥n publicada ac√° en nuestra p√°gina, o en nuestro canal de descargas de discord, haciendo click en el bot√≥n de descarga. Si te llega a salir un mensaje de error o de advertencia, no te preocupes, es totalmente seguro, dale al bot√≥n de descargar para continuar con tu descarga.</p>
                
                <div class="button-container" style="margin-bottom: 30px;">
                    <a href="http://us-1.fl.hafu.cfd:41421/updates/MasterClient.exe" class="download-button" download style="padding: 20px 40px; font-size: 1.5rem; border-radius: 12px;">
                        DESCARGA AQU√ç
                    </a>
                </div>
                
                <div class="guide-image-container">
                    <img src="https://i.postimg.cc/qR26GPny/Diseno-sin-titulo-31.png" alt="Imagen del Paso 1" style="max-width: 600px;">
                </div>
            </div>
            
            <div class="guide-step">
                <h2>PASO 2: Ejecuci√≥n e Instalaci√≥n</h2>
                <p>Luego de completar el primer paso, pasaremos al segundo paso, donde tendr√°s que abrir el archivo que acabaste de descargar para proseguir a la instalaci√≥n. Lo m√°s seguro es que te salga una advertencia de Windows Protect; com√∫nmente siempre sale cuando intentas instalar cualquier programa de internet. Simplemente le daremos click en "M√°s Informaci√≥n" y una vez desplegado, nos habilitar√° la opci√≥n de "Ejecutar de todas formas", haremos click sobre esta opci√≥n y ya podremos continuar con la instalaci√≥n de MasterClient.</p>
            </div>
            
            <div class="footer">
                <p>¬øNecesitas ayuda con la instalaci√≥n? Visita nuestro <a href="https://discord.gg/Xj5SARVFQ5" target="_blank">Discord</a>.</p>
            </div>
        </section>

        <section id="mobs">
            <h1>üëª Mobs y Entidades Nuevas</h1>
            <div class="post">
                <img src="https://i.postimg.cc/Pq0wY4q2/Diseno-sin-titulo-29.png" alt="Imagen del post 1">
                <div class="post-content">
                    <h3>El Jinete Espectral ha Llegado</h3>
                    <p class="date">Publicado: 25 de Octubre, 2025</p>
                    <p>Un nuevo jefe ha sido liberado en el servidor. Enfr√©ntate al Jinete Espectral en el bioma maldito y obt√©n recompensas legendarias.</p>
                </div>
            </div>
            <div class="post">
                <img src="https://i.postimg.cc/Qt29G8x4/Diseno-sin-titulo-28.png" alt="Imagen del post 2">
                <div class="post-content">
                    <h3>Invasi√≥n de Murci√©lagos Vampiro</h3>
                    <p class="date">Publicado: 15 de Octubre, 2025</p>
                    <p>Los murci√©lagos comunes han mutado y ahora drenan tu vitalidad. ¬°Cuidado en la noche!</p>
                </div>
            </div>
            <div class="footer">
                <p>M√°s informaci√≥n en nuestro <a href="https://discord.gg/Xj5SARVFQ5" target="_blank">Discord</a>.</p>
            </div>
        </section>

        <section id="dificultad">
            <h1>üíÄ Cambio de Dificultad</h1>
            <p class="placeholder-text">Pr√≥ximamente: Sistema de dificultad din√°mico basado en la actividad del servidor.</p>
            <div class="footer">
                <p>&copy; 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="eventos">
            <h1>üö® Eventos de la Semana</h1>
            <p class="placeholder-text">¬°Mantente atento! El pr√≥ximo gran evento de Caza de Brujas se anunciar√° pronto.</p>
            <div class="footer">
                <p>&copy; 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="actualizaciones">
            <h1>‚öôÔ∏è Novedades y Actualizaciones</h1>
            <div class="post">
                <img src="https://i.postimg.cc/RVYd1m6J/Diseno-sin-titulo-30.png" alt="Imagen del post 3">
                <div class="post-content">
                    <h3>Sistema de Crafteo M√≠stico <span class="new-badge" style="padding: 5px; border-radius: 5px;">¬°NUEVO!</span></h3>
                    <p class="date">Publicado: 31 de Octubre, 2025</p>
                    <p>Hemos implementado un nuevo sistema para craftear objetos √∫nicos de Halloween usando ingredientes especiales. ¬°Descubre las recetas!</p>
                </div>
            </div>
            <div class="footer">
                <p>&copy; 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="recompensas">
            <h1>üåü Tabla de Recompensas</h1>
            <p class="placeholder-text">¬°Gana tickets de sorteo y recompensas exclusivas participando en el **Quiz Diario**!</p>
            <div class="footer">
                <p>&copy; 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="castigos">
            <h1>‚õî Sistema de Castigos</h1>
            <p class="placeholder-text">Mantenemos la comunidad segura. Consulta las normas de MasterStudio en Discord.</p>
            <div class="footer">
                <p>&copy; 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="sorteo">
            <div class="sorteo-container">
                <h1 class="countdown-title">üéâ Pr√≥ximo Sorteo</h1>
                <p>El pr√≥ximo gran sorteo se llevar√° a cabo en:</p>
                <div id="countdown-timer" class="countdown-timer">Cargando...</div>
                <p>¬°El premio de este sorteo es una **Caja Misteriosa Legendaria**!</p>
                
                <div id="winner-announcement" style="display:none;">
                    <p class="winner-announcement">¬°FELICIDADES!</p>
                    <p>El ganador es:</p>
                    <p id="winner-username" class="winner-username">MasterUsuario</p>
                    <p style="margin-top: 15px; font-size: 1.2rem; color: #DA70D6;">Tu c√≥digo de ticket ganador es:</p>
                    <p id="ticket-code" class="winner-username ticket-code">MSTR-998765</p>
                    <p style="margin-top: 20px;">¬°Reclama tu premio en el canal de soporte de Discord!</p>
                </div>
                
                <p class="minor" style="margin-top: 30px; font-size: 1rem; color: #888888;">Para participar, acumula tickets respondiendo la **Pregunta Diaria**.</p>
            </div>
            <div class="footer">
                <p>&copy; 2025 MasterStudio. Todos los derechos reservados.</p>
            </div>
        </section>

        <section id="daily-quiz">
            <div class="sorteo-container">
                <h1 class="countdown-title">üí° Pregunta Diaria de MasterStudio</h1>
                
                <div id="quiz-auth-container">
                    <p style="font-size: 1.2rem; color: #ff6600;">Por favor, **inicia sesi√≥n con Google** usando el bot√≥n en la esquina superior derecha para poder participar en la pregunta diaria y ganar recompensas.</p>
                </div>

                <div id="quiz-user-info" style="display:none;">
                    <p style="font-size: 1.2rem; color: #cccccc;">¬°Bienvenido, <strong id="quiz-username-el" style="color: #00ff00;"></strong>! Responde la pregunta de hoy:</p>
                </div>
                
                <div id="question-container" style="display:none;">
                    <div id="daily-quiz-content">
                        </div>
                    <div class="button-container">
                        <button id="submit-quiz" class="download-button" style="background: linear-gradient(135deg, #4CAF50 0%, #1E8449 100%); border-color: #00ff00;">ENVIAR RESPUESTA</button>
                    </div>
                </div>
                
                <p id="quiz-message" style="margin-top: 20px; font-size: 1.5rem;"></p>

            </div>
            <div class="footer">
                <p>Reglas del Quiz: Solo una respuesta por d√≠a. Responde correctamente para obtener un ticket de sorteo. ¬°Buena suerte!</p>
            </div>
        </section>
        
    </main>

    <script>
        // --------------------------------------------
        // DEFINICI√ìN DE VARIABLES GLOBALES
        // --------------------------------------------
        let currentUser = null;
        let countdownInterval;
        const QUIZ_STORAGE_KEY = 'masterstudio_quiz_user';
        // CAMBIO: Definici√≥n de la clave de bypass
        const maintenanceKey = 'master'; 

        // Elementos del Header para el Login/Usuario
        const headerAuthArea = document.getElementById('header-auth-area');
        const headerLoginContainer = document.getElementById('header-login-container');
        const headerUserDisplay = document.getElementById('header-user-display');
        const headerUsernameEl = document.getElementById('header-username-el');

        // Elementos de la secci√≥n Quiz
        const quizAuthContainer = document.getElementById('quiz-auth-container');
        const quizUserInfo = document.getElementById('quiz-user-info');
        const quizUsernameEl = document.getElementById('quiz-username-el');
        const questionContainer = document.getElementById('question-container');
        const quizMessage = document.getElementById('quiz-message');
        const quizContent = document.getElementById('daily-quiz-content');
        const submitButton = document.getElementById('submit-quiz');

        // Definici√≥n de datos simulados (para el Quiz)
        const dailyQuizData = {
            id: 'quiz_halloween_2025_10_31',
            date: '2025-10-31',
            question: '¬øCu√°l es el nombre del nuevo jefe que aparece en el bioma maldito?',
            options: [
                { text: 'El Espectro de Medianoche', isCorrect: false, id: 'opt1' },
                { text: 'El Jinete Espectral', isCorrect: true, id: 'opt2' },
                { text: 'El Rey Calabaza', isCorrect: false, id: 'opt3' },
                { text: 'El Segador de Almas', isCorrect: false, id: 'opt4' }
            ]
        };
        
        // Simulaci√≥n de la hora del sorteo (Ejemplo: Sorteo el 1 de Noviembre a las 20:00 UTC-5)
        const raffleDate = new Date('2025-11-01T20:00:00-05:00'); 
        
        // Simulaci√≥n del ganador
        const mockWinner = {
            name: 'MasterWinner99',
            ticket: 'MSTR-998765'
        };

        // --------------------------------------------
        // FUNCIONES PRINCIPALES
        // --------------------------------------------
        
        /**
         * FUNCI√ìN CLAVE: Maneja la respuesta de la credencial de Google.
         * Esta funci√≥n es llamada autom√°ticamente por Google.
         * @param {object} response - Objeto con el token JWT de Google.
         */
        function handleCredentialResponse(response) {
            // 1. Decodificar el token JWT para obtener la informaci√≥n del usuario
            const token = response.credential;
            const base64Url = token.split('.')[1];
            // Reemplazo de caracteres para decodificaci√≥n URL-safe base64
            const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/'); 
            const payload = JSON.parse(window.atob(base64));
            
            // 2. Extraer los datos que nos interesan
            const userId = payload.sub; // ID √∫nico de Google
            const username = payload.name; // Nombre completo del usuario
            
            // 3. Crear el objeto de usuario local
            currentUser = { 
                id: userId, 
                name: username 
            };
            
            // 4. Integrar con tu l√≥gica existente (Guardar usuario y actualizar UI)
            localStorage.setItem(QUIZ_STORAGE_KEY, JSON.stringify(currentUser));
            
            // **L√≥gica de Ocultar/Mostrar en el HEADER**
            if (headerLoginContainer) headerLoginContainer.style.display = 'none';
            if (headerUsernameEl) headerUsernameEl.textContent = currentUser.name;
            if (headerUserDisplay) headerUserDisplay.style.display = 'block';

            // **L√≥gica de Ocultar/Mostrar en la secci√≥n QUIZ**
            if (quizAuthContainer) quizAuthContainer.style.display = 'none';
            if (quizUsernameEl) quizUsernameEl.textContent = currentUser.name;
            if (quizUserInfo) quizUserInfo.style.display = 'block';
            
            // 5. Cargar el quiz
            loadDailyQuiz(currentUser.id);
        }

        /**
         * Maneja el clic en los botones de navegaci√≥n para cambiar de secci√≥n.
         * @param {string} sectionId - El ID de la secci√≥n a mostrar.
         */
        function navigateToSection(sectionId) {
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active');
            });

            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Actualizar botones de navegaci√≥n
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active-nav');
                if (btn.getAttribute('data-section') === sectionId) {
                    btn.classList.add('active-nav');
                }
            });
        }
        
        /**
         * Cierra la sesi√≥n del usuario.
         */
        function logout() {
            localStorage.removeItem(QUIZ_STORAGE_KEY);
            currentUser = null;
            
            // Mostrar Login en Header y ocultar usuario
            if (headerLoginContainer) headerLoginContainer.style.display = 'block';
            if (headerUserDisplay) headerUserDisplay.style.display = 'none';
            
            // Mostrar mensaje de login en Quiz y ocultar informaci√≥n de usuario y quiz
            if (quizAuthContainer) quizAuthContainer.style.display = 'block';
            if (quizUserInfo) quizUserInfo.style.display = 'none';
            if (questionContainer) questionContainer.style.display = 'none';
            if (quizMessage) quizMessage.textContent = 'Sesi√≥n cerrada. Inicia de nuevo para participar en el Quiz.';
        }

        /**
         * Verifica si hay un usuario logueado en LocalStorage y actualiza la UI.
         * @returns {boolean} True si hay un usuario logueado, false en caso contrario.
         */
        const checkLocalStorageUser = () => {
            const storedUser = localStorage.getItem(QUIZ_STORAGE_KEY);
            if (storedUser) {
                currentUser = JSON.parse(storedUser);
                
                // **Ajuste para el Header**
                if (headerLoginContainer) headerLoginContainer.style.display = 'none';
                if (headerUsernameEl) headerUsernameEl.textContent = currentUser.name;
                if (headerUserDisplay) headerUserDisplay.style.display = 'block';
                
                // **Ajuste para la secci√≥n Quiz**
                if (quizAuthContainer) quizAuthContainer.style.display = 'none';
                if (quizUsernameEl) quizUsernameEl.textContent = currentUser.name;
                if (quizUserInfo) quizUserInfo.style.display = 'block';

                return true;
            }
            
            // Si no est√° logueado, aseguramos que el bot√≥n de login del Header se muestre.
            if (headerLoginContainer) headerLoginContainer.style.display = 'block'; 
            if (headerUserDisplay) headerUserDisplay.style.display = 'none';
            
            // Y en la secci√≥n Quiz, aseguramos que el mensaje de login se muestre.
            if (quizAuthContainer) quizAuthContainer.style.display = 'block';
            if (quizUserInfo) quizUserInfo.style.display = 'none';

            return false;
        };
        
        /**
         * Carga y muestra el quiz diario si el usuario no ha respondido.
         * @param {string} userId - ID √∫nico del usuario.
         */
        function loadDailyQuiz(userId) {
            quizMessage.textContent = '';
            
            // Simulaci√≥n: Comprobar si ya respondi√≥ hoy
            const quizAnsweredKey = `quiz_answered_${dailyQuizData.id}_${userId}`;
            const answeredToday = localStorage.getItem(quizAnsweredKey);
            
            if (answeredToday) {
                questionContainer.style.display = 'none';
                
                const answeredData = JSON.parse(answeredToday);
                if (answeredData.correct) {
                     quizMessage.textContent = `‚úÖ ¬°Ya has respondido la pregunta de hoy y acertaste! Tu ticket es: ${answeredData.code}. Vuelve ma√±ana. üéâ`;
                     quizMessage.style.color = '#00ff00';
                } else {
                     quizMessage.textContent = '‚ùå Ya respondiste incorrectamente hoy. ¬°Vuelve ma√±ana por otra oportunidad! üíÄ';
                     quizMessage.style.color = '#F44336';
                }
                return;
            }
            
            // Si no ha respondido, cargar la pregunta
            questionContainer.style.display = 'block';
            quizContent.innerHTML = `
                <p style="font-size: 1.3rem; margin-bottom: 25px;">${dailyQuizData.question}</p>
                <form id="quiz-form">
                    ${dailyQuizData.options.map(opt => `
                        <input type="radio" id="${opt.id}" name="quiz_option" value="${opt.id}">
                        <label for="${opt.id}">${opt.text}</label>
                    `).join('')}
                </form>
            `;
            
            // A√±adir el listener para el bot√≥n de env√≠o
            submitButton.onclick = () => {
                const form = document.getElementById('quiz-form');
                const selectedOptionId = form.elements['quiz_option'].value;
                const selectedOption = dailyQuizData.options.find(opt => opt.id === selectedOptionId);

                if (!selectedOption) {
                    quizMessage.textContent = 'Por favor, selecciona una opci√≥n.';
                    quizMessage.style.color = '#ff6600';
                    return;
                }
                
                submitButton.disabled = true; // Deshabilitar para evitar doble env√≠o

                if (selectedOption.isCorrect) {
                    // Simulaci√≥n: Marcar como respondido correctamente y dar ticket
                    const newTicketCode = `TICKET-${Math.floor(Math.random() * 99999)}`;
                    localStorage.setItem(quizAnsweredKey, JSON.stringify({
                        date: new Date().toISOString(),
                        code: newTicketCode,
                        correct: true
                    }));
                    
                    questionContainer.style.display = 'none';
                    quizMessage.textContent = `ü•≥ ¬°Respuesta Correcta! Has ganado un ticket para el sorteo: ${newTicketCode}. üéâ`;
                    quizMessage.style.color = '#FFD700'; // Dorado
                } else {
                    // Simulaci√≥n: Marcar como respondido incorrectamente
                    localStorage.setItem(quizAnsweredKey, JSON.stringify({
                        date: new Date().toISOString(),
                        code: null,
                        correct: false
                    }));
                    
                    questionContainer.style.display = 'none';
                    quizMessage.textContent = '‚ùå Respuesta incorrecta. ¬°Vuelve ma√±ana por otra oportunidad! üíÄ';
                    quizMessage.style.color = '#F44336'; // Rojo
                }
                
                submitButton.disabled = false;
            };
        }

        /**
         * Actualiza el contador del sorteo o muestra el ganador simulado.
         */
        function updateCountdown() {
            const now = new Date();
            const timeDifference = raffleDate - now;

            const countdownElement = document.getElementById('countdown-timer');
            const winnerAnnouncement = document.getElementById('winner-announcement');
            const winnerUsernameEl = document.getElementById('winner-username');
            const ticketCodeEl = document.getElementById('ticket-code');
            
            if (timeDifference < 0) {
                // Sorteo terminado, mostrar ganador simulado
                clearInterval(countdownInterval);
                if (countdownElement) countdownElement.style.display = 'none';
                if (winnerAnnouncement) winnerAnnouncement.style.display = 'block';
                if (winnerUsernameEl) winnerUsernameEl.textContent = mockWinner.name;
                if (ticketCodeEl) ticketCodeEl.textContent = mockWinner.ticket;
            } else {
                if (countdownElement) countdownElement.style.display = 'block';
                if (winnerAnnouncement) winnerAnnouncement.style.display = 'none';
                
                const days = Math.floor(timeDifference / (1000 * 60 * 60 * 60 * 24));
                const hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);

                const countdownText = 
                    `${days.toString().padStart(2, '0')}:${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (countdownElement) countdownElement.textContent = countdownText;
            }
        }
        
        /**
         * Verifica el estado del modo mantenimiento y lo aplica si es necesario.
         */
        function checkMaintenanceStatus() {
            // Simulaci√≥n: El mantenimiento ya est√° ACTIVO (true)
            const isMaintenanceActive = true;
            
            // Bypass de mantenimiento: Busca "?dev=master" en la URL
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('dev') === maintenanceKey) { // Se cambi√≥ 'bypass' por 'dev'
                console.log("Modo Mantenimiento evitado por bypass.");
                document.body.style.display = 'block';
                return false; 
            }
            
            if (isMaintenanceActive) {
                document.getElementById('maintenance-mode').style.display = 'flex';
                document.body.style.overflow = 'hidden';
                // Ocultar elementos principales
                const header = document.querySelector('header');
                const mainNav = document.querySelector('.main-navigation-container');
                const mainContent = document.querySelector('main');
                
                if (header) header.style.display = 'none';
                if (mainNav) mainNav.style.display = 'none';
                if (mainContent) mainContent.style.display = 'none';
                
                return true; 
            }

            // Si no est√° en mantenimiento, nos aseguramos de que todo est√© visible
            document.getElementById('maintenance-mode').style.display = 'none';
            document.body.style.display = 'block';
            return false;
        }

        // --------------------------------------------
        // L√ìGICA DE INICIO GENERAL (DOMContentLoaded)
        // --------------------------------------------
        document.addEventListener('DOMContentLoaded', () => {
            
            // 1. **VERIFICAR MODO MANTENIMIENTO**
            const isMaintenance = checkMaintenanceStatus();
            
            if (isMaintenance) {
                // Si est√° en mantenimiento y no hay bypass, detenemos toda la ejecuci√≥n del script.
                return; 
            }
            
            // 2. **INICIAR EL RESTO DE L√ìGICA (Si no hay mantenimiento o hay bypass)**
            
            // Iniciar el contador del sorteo
            countdownInterval = setInterval(updateCountdown, 1000);
            updateCountdown();

            // L√≥gica de navegaci√≥n
            document.querySelectorAll('.nav-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    // Usar el atributo data-section para la navegaci√≥n
                    const sectionId = e.currentTarget.getAttribute('data-section');
                    if (sectionId) {
                        navigateToSection(sectionId);
                    }
                });
            });

            // L√≥gica de inicio del Quiz: comprueba si el usuario ya est√° logueado
            if (checkLocalStorageUser()) {
                loadDailyQuiz(currentUser.id);
            }

        });
    </script>
</body>
</html>
